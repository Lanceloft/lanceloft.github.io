<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>vue2使用highcharts的一些方法 - lanceloft's blog</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com"><span>Github</span></a></li><li><a href="https://www.v2ex.com/"><span>V2EX</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://callfiles.ueibo.com/hexo-theme-laughing/post_background.jpg"><div class="post-title"><h1 class="title">vue2使用highcharts的一些方法</h1><ul class="meta"><li><i class="icon icon-author"></i>Lanceloft</li><li><i class="icon icon-clock"></i>33 Minutes</li><li><i class="icon icon-calendar"></i>December 9, 2016</li></ul></div></div><div class="article-content" style="max-width:800px"><h4 id="开头逼逼"><a href="#开头逼逼" class="headerlink" title="开头逼逼"></a>开头逼逼</h4><p>　　vue2已经出了一段时间了，在正式版发布没多久公司就布置了开发任务，利用vue2进行后台管理业前端部分的重构。一开始还没正式接触项目之前还是觉得vue挺简单的，毕竟之前写了一些react，满屏的jsx，对JavaScript尚且理解不深入的我看起来还是很痛苦。vue相对大部分还是跟html比较像，看起来还是相对简单一点点。结果当自己写起来的时候就发现懵逼了，那时候介绍文档都还只有英文，大约过了一个星期后才有中文翻译文档，一些细节项目的搭建方法也是没有的。还有就是项目引用了vuex，一开始使用的时候因为项目框架由leader搭建起来了，然后我也还没理解完就需要赶着完成，vuex的状态分发增加了不少的难度，基本上就是前期没理解好的时候就是各种绕圈还是没有到达状态的分发。不过现在使用多了以后发现大型项目上进行统一的状态管理确实比较直观。以后学习一定要注意看文档看文档看文档理解完了才去写不懂一定要问。  </p>
<p>　　好了逼逼得差不多了我就分享下vue2使用highcharts的一些方法。之前还没使用过highcharts，看着文档引用了jQuery被leader嫌弃了很久而且也没做出数据交互来。后来找到<a href="https://gold.xitu.io/entry/5832a8012e958a0069e2ff1a" target="_blank" rel="noopener">https://gold.xitu.io/entry/5832a8012e958a0069e2ff1a</a>  这篇文章进行学习模仿才写出了。项目里面一些命名是不怎么规范的，只是赶项目&amp;也没想好名字就暂用先。  </p>
<h4 id="正式开始"><a href="#正式开始" class="headerlink" title="正式开始"></a>正式开始</h4><p>├── App.vue<br>├── assets<br>├── components<br>├── config<br>├── filter.js<br>├── lotteryCanvas.js<br>├── lotteryPrev.js<br>├── main.js<br>├── options.js<br>├── route-config.js<br>├── store<br>└── style</p>
<p>src里面的项目结构是这样子的，组件放在components里面，参考掘金的教程就知道我同样把highcharts的options单独放在一个js里面管理。<br>components里面的charts.vue<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"manager-charts"</span>&gt;</span><br><span class="line">    &lt;x-chart :id=<span class="string">"id0"</span> :option=<span class="string">"option0"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">x-chart</span>&gt;</span></span></span><br><span class="line">    &lt;div class="award-detail"&gt;</span><br><span class="line">      &lt;h4 class="award-title"&gt;中奖情况&lt;/h4&gt;</span><br><span class="line">      &lt;p class="award-details"&gt;</span><br><span class="line">        &lt;i&gt;&lt;/i&gt;</span><br><span class="line">        活动开启时，系统会自动从奖品库中预扣该活动下配置的奖品；活动关闭时，不会立即返还剩余奖品，</span><br><span class="line">        需到活动设置的结束时间到了才会将剩余的奖品返还至奖品库。您也可现在</span><br><span class="line">        &lt;span class="click-back"&gt;点击返还&lt;/span&gt;</span><br><span class="line">      &lt;/p&gt;</span><br><span class="line">      &lt;x-chart :id="id1" :option="option1"&gt;&lt;/x-chart&gt;</span><br><span class="line">      &lt;div class="look-details"&gt;</span><br><span class="line">        &lt;a href="#" class="btn-instant"&gt;查看详情&lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">import &#123; mapGetters, mapActions &#125; from 'vuex';</span></span><br><span class="line"><span class="regexp">import options from '../</span>../options<span class="string">';</span></span><br><span class="line"><span class="string">import XChart from '</span>./secondchart<span class="string">';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">import '</span>../../style/charts.scss<span class="string">';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default &#123;</span></span><br><span class="line"><span class="string">  data() &#123;</span></span><br><span class="line"><span class="string">    const option0 = options.line;</span></span><br><span class="line"><span class="string">    const option1 = options.col;</span></span><br><span class="line"><span class="string">    return &#123;</span></span><br><span class="line"><span class="string">      id0: '</span>lineHighchart<span class="string">',</span></span><br><span class="line"><span class="string">      id1: '</span>lotteryDetail<span class="string">',</span></span><br><span class="line"><span class="string">      option0: option0,</span></span><br><span class="line"><span class="string">      option1: option1,</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  components: &#123;</span></span><br><span class="line"><span class="string">    XChart</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>XChart是图表的通样选择，在里面定义好所需要的图表大小然后在首页渲染出来，可以比较直观的根据id进行控制。<br>components里面的secondchart.vue<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"x-bar"</span>&gt;</span><br><span class="line">  &lt;div :id=<span class="string">"id"</span></span><br><span class="line">  :option=<span class="string">"option"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp">#lotteryDetail &#123;</span></span><br><span class="line"><span class="regexp">  height: 400px;</span></span><br><span class="line"><span class="regexp">  min-width:800px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">#lineHighchart &#123;</span></span><br><span class="line"><span class="regexp">  height: 400px;</span></span><br><span class="line"><span class="regexp">  min-width:800px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> HighCharts <span class="keyword">from</span> <span class="string">'highcharts'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// 验证类型</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    id: &#123;</span><br><span class="line">      type: <span class="built_in">String</span></span><br><span class="line">    &#125;,</span><br><span class="line">    option: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$nextTick(HighCharts.chart(<span class="keyword">this</span>.id, <span class="keyword">this</span>.option));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>mounted这里跟掘进有点不一样，我参考了官方文档的写法，功能上是一样的，简单介绍下mounted，就相当于jq里面的  </p>
<blockquote>
<p>$( document ).ready()  </p>
</blockquote>
<p>是让图表在文档加载完成后再激活，如果图表先于文档加载就会出现错误提示因为找不到节点了。同理的还有canvas也是。<br>接下来像掘金一样在series里面里面写数据就好，我这里是用接口数据，我把接口数据静态分享下，更加直观一点。  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这一部分是接口数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> chartData = &#123;</span><br><span class="line">  <span class="string">"result"</span>: &#123;</span><br><span class="line">    <span class="string">"data"</span>: &#123;</span><br><span class="line">      <span class="string">"info"</span>: &#123;</span><br><span class="line">        <span class="string">"total"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">"dispatch_total"</span>: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"rewards"</span>: [&#123;</span><br><span class="line">        <span class="string">"id"</span>: <span class="number">11361</span>,</span><br><span class="line">        <span class="string">"title"</span>: <span class="string">"一等奖"</span>,</span><br><span class="line">        <span class="string">"count"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">"dispatch_count"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">"percent"</span>: <span class="number">0.0</span></span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"click"</span>: &#123;</span><br><span class="line">    <span class="string">"keys"</span>: [</span><br><span class="line">      <span class="string">"00:00"</span>, <span class="string">"01:00"</span>, <span class="string">"02:00"</span>, <span class="string">"03:00"</span>, <span class="string">"04:00"</span>, <span class="string">"05:00"</span>, <span class="string">"06:00"</span>, <span class="string">"07:00"</span>, <span class="string">"08:00"</span>, <span class="string">"09:00"</span>, <span class="string">"10:00"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"values"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">    <span class="string">"sub"</span>: &#123;</span><br><span class="line">      <span class="string">"keys"</span>: [</span><br><span class="line">        <span class="string">"00:00"</span>, <span class="string">"01:00"</span>, <span class="string">"02:00"</span>, <span class="string">"03:00"</span>, <span class="string">"04:00"</span>, <span class="string">"05:00"</span>, <span class="string">"06:00"</span>, <span class="string">"07:00"</span>, <span class="string">"08:00"</span>, <span class="string">"09:00"</span>, <span class="string">"10:00"</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"values"</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"total"</span>: &#123;</span><br><span class="line">      <span class="string">"click"</span>: <span class="number">6</span>,</span><br><span class="line">      <span class="string">"sub"</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"search"</span>: &#123;</span><br><span class="line">      <span class="string">"1"</span>: <span class="string">"\u5b9e\u65f6"</span>,</span><br><span class="line">      <span class="string">"2"</span>: <span class="string">"\u6628\u65e5"</span>,</span><br><span class="line">      <span class="string">"3"</span>: <span class="string">"\u672c\u6708"</span>,</span><br><span class="line">      <span class="string">"5"</span>: <span class="string">"\u6240\u6709"</span>,</span><br><span class="line">      <span class="string">"-1"</span>: <span class="string">"\u81ea\u5b9a\u4e49"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 以下是options里面的</span></span><br><span class="line"><span class="keyword">import</span> lottery <span class="keyword">from</span> <span class="string">'./store/modules/lottery'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myData = lottery.state.chartsdata.result.data;</span><br><span class="line"><span class="keyword">const</span> lineData = lottery.state.chartsdata.click;</span><br><span class="line"><span class="keyword">const</span> rewards = myData.rewards;</span><br><span class="line"><span class="keyword">const</span> values = lineData.values;</span><br><span class="line"><span class="keyword">const</span> subValues = lineData.sub.values;</span><br><span class="line"><span class="keyword">const</span> lineKeys = lineData.keys;</span><br><span class="line"><span class="keyword">const</span> xAxisData = [];</span><br><span class="line"><span class="keyword">const</span> dispatchData = [];</span><br><span class="line"><span class="keyword">const</span> remainData = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> totalReward = <span class="string">'总奖项'</span>;</span><br><span class="line"><span class="keyword">const</span> total = myData.info.total;</span><br><span class="line"><span class="keyword">const</span> dispatchTotal = myData.info.dispatch_total;</span><br><span class="line"><span class="keyword">const</span> remainTotal = total - dispatchTotal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> allValues = values.reduce( <span class="function">(<span class="params">prev, curr</span>) =&gt;</span> prev + curr );</span><br><span class="line"><span class="keyword">const</span> allsubValues = subValues.reduce( <span class="function">(<span class="params">prev, curr</span>) =&gt;</span> prev + curr );</span><br><span class="line"></span><br><span class="line">rewards.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> remainCount = item.count - item.dispatch_count;</span><br><span class="line"></span><br><span class="line">  xAxisData.push(item.title);</span><br><span class="line">  dispatchData.push(item.dispatch_count);</span><br><span class="line">  remainData.push(remainCount);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">xAxisData.push(totalReward);</span><br><span class="line">dispatchData.push(dispatchTotal);</span><br><span class="line">remainData.push(remainTotal);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  line: &#123;</span><br><span class="line">    chart: &#123;</span><br><span class="line">      type: <span class="string">'line'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      categories: lineKeys</span><br><span class="line">    &#125;,</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      categories: [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>],</span><br><span class="line">      minTickInterval: <span class="number">1</span>,</span><br><span class="line">      min: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    title: &#123;</span><br><span class="line">      text: <span class="literal">null</span></span><br><span class="line">    &#125;,</span><br><span class="line">    tooltip: &#123;</span><br><span class="line">      backgroundColor: <span class="string">'#333'</span>,</span><br><span class="line">      borderColor: <span class="string">'#333'</span>,</span><br><span class="line">      borderRadius: <span class="number">5</span>,</span><br><span class="line">      shadow: <span class="literal">null</span>,</span><br><span class="line">      style: &#123;</span><br><span class="line">        color: <span class="string">'#fff'</span>,</span><br><span class="line">        padding: <span class="string">'5px 15px'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      headerFormat: <span class="string">''</span></span><br><span class="line">    &#125;,</span><br><span class="line">    labels: &#123;</span><br><span class="line">      items: [&#123;</span><br><span class="line">        html: <span class="string">'浏览:'</span> + allValues,</span><br><span class="line">        style: &#123;</span><br><span class="line">          left: <span class="string">'0px'</span>,</span><br><span class="line">          top: <span class="string">'350px'</span>,</span><br><span class="line">          fontSize: <span class="string">'14px'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        html: <span class="string">'提交:'</span> + allsubValues,</span><br><span class="line">        style: &#123;</span><br><span class="line">          left: <span class="string">'60px'</span>,</span><br><span class="line">          top: <span class="string">'350px'</span>,</span><br><span class="line">          fontSize: <span class="string">'14px'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">      name: <span class="string">'提交量'</span>,</span><br><span class="line">      color: <span class="string">'#25cd98'</span>,</span><br><span class="line">      fillColor: <span class="string">'rgba(173,212,154,0.2)'</span>,</span><br><span class="line">      data: subValues</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: <span class="string">'浏览量'</span>,</span><br><span class="line">      color: <span class="string">'#3cf'</span>,</span><br><span class="line">      fillColor: <span class="string">'rgba(195,235,254,0.2)'</span>,</span><br><span class="line">      data: values</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  col: &#123;</span><br><span class="line">    chart: &#123;</span><br><span class="line">      type: <span class="string">'column'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    title: &#123;</span><br><span class="line">      text: <span class="literal">null</span></span><br><span class="line">    &#125;,</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">      categories: xAxisData</span><br><span class="line">    &#125;,</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">      min: <span class="number">0</span>,</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: <span class="string">'占总数的百分比'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    tooltip: &#123;</span><br><span class="line">      pointFormat: <span class="string">'&lt;span style="color:&#123;series.color&#125;"&gt;&#123;series.name&#125;&lt;/span&gt;: &lt;b&gt;&#123;point.y&#125;&lt;/b&gt; (&#123;point.percentage:.0f&#125;%)&lt;br/&gt;'</span>,</span><br><span class="line">      shared: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plotOptions: &#123;</span><br><span class="line">      column: &#123;</span><br><span class="line">      stacking: <span class="string">'percent'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">        name: <span class="string">'已发放'</span>,</span><br><span class="line">        color: <span class="string">'#9ae2ff'</span>,</span><br><span class="line">        data: dispatchData</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        name: <span class="string">'剩余量'</span>,</span><br><span class="line">        color: <span class="string">'#429be8'</span>,</span><br><span class="line">        data: remainData</span><br><span class="line">      &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>　　实现的效果就是秀赞抽奖的图表功能，在options里面的方法都是根据highcharts来写的，这一部分需要阅读highcharts的官方文档。个人经验就是在前期时候用静态数据能很好上手也省事很多。但是就是一定要去问静态数据绕的那个圈，我也是后来看懂了公司接口文档和项目结构里面的方法才学会使用，然后基本上看懂了以后效率就是之前的好几倍了。假数据也不要随便写，一定要跟着文档，不然到时候还是会接不上的。</p>
</div><div class="article-meta" style="max-width:800px"><div class="categories"><i class="icon icon-category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">2</span></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2016/12/10/ubuntu下shadowsocks翻墙的介绍/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2016/12/04/利用hexo建博客3/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/lanceloft" title="Github" target="_blank"><i class="icon icon-github"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2019 lanceloft's blog<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>